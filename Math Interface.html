<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cosmic Math Solver üåå with Floating Bouncing Equations & Voice</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron&family=Roboto+Slab&display=swap');
  :root {
    --main-bg: radial-gradient(circle at center, #0a043c 0%, #000010 100%);
    --accent: #00e5ff;
    --accent2: #00b8cc;
    --glow: 0 0 7px #00e5ff;
    --shadow: #003366;
    --equation: #00e5ffcc;
    --equation-shadow: #00e5ff;
    --footer: #00e5ffaa;
  }
  body {
    margin: 0;
    overflow: hidden;
    background: var(--main-bg);
    color: #e4f2f9;
    font-family: 'Roboto Slab', serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    padding: 30px 20px;
    position: relative;
    z-index: 1;
  }
  h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: 3rem;
    color: var(--accent);
    text-shadow:
      0 0 2px var(--accent),
      0 0 5px var(--accent2),
      0 0 10px var(--accent2);
    margin-bottom: 10px;
    z-index: 10;
  }
  #quote {
    font-style: italic;
    font-size: 1.2rem;
    color: #a0c8ff;
    max-width: 600px;
    text-align: center;
    margin-bottom: 30px;
    min-height: 3em;
    transition: opacity 0.8s ease-in-out;
    z-index: 10;
  }
  #input-container {
    display: flex;
    max-width: 600px;
    width: 100%;
    z-index: 10;
  }
  #math-input {
    flex-grow: 1;
    font-size: 1.1rem;
    padding: 10px 15px;
    border: none;
    border-radius: 8px 0 0 8px;
    outline: none;
    background: var(--shadow);
    color: #e4f2f9;
    box-shadow: inset 0 0 6px var(--shadow);
  }
  #solve-btn, #voice-btn {
    background: var(--accent);
    border: none;
    padding: 0 25px;
    font-size: 1.1rem;
    font-weight: bold;
    color: #0a043c;
    cursor: pointer;
    box-shadow: 0 0 5px var(--accent), 0 0 10px var(--accent2);
    transition: background 0.3s ease, box-shadow 0.3s;
  }
  #solve-btn:hover, #voice-btn:hover {
    background: var(--accent2);
  }
  #solve-btn { border-radius: 0 8px 0 0; }
  #voice-btn { border-radius: 0 0 8px 0; }
  #result-container {
    margin-top: 30px;
    max-width: 600px;
    width: 100%;
    background: var(--shadow);
    border-radius: 12px;
    padding: 20px;
    font-family: 'Consolas', monospace;
    font-size: 1.1rem;
    min-height: 120px;
    color: #cce7ff;
    box-shadow: var(--glow);
    white-space: pre-wrap;
    overflow-y: auto;
    z-index: 10;
  }
  #buttons-container {
    display: flex;
    flex-direction: column;
  }
  #starfield {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: 0;
    pointer-events: none;
  }
  #floating-equations {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 1;
  }
  .equation {
    position: absolute;
    color: var(--equation);
    font-family: 'Consolas', monospace;
    font-weight: bold;
    font-size: 14px;
    user-select: none;
    white-space: nowrap;
    text-shadow:
      0 0 2px var(--equation-shadow),
      0 0 5px var(--equation-shadow);
    will-change: transform;
  }
  footer {
    width: 100%;
    text-align: center;
    padding: 12px 0;
    background: transparent;
    color: var(--footer);
    font-family: 'Roboto Slab', serif;
    font-size: 0.9rem;
    position: fixed;
    bottom: 0;
    left: 0;
    z-index: 20;
    user-select: none;
    text-shadow: 0 0 3px var(--accent);
  }
</style>
</head>
<body>

<canvas id="starfield"></canvas>
<div id="floating-equations"></div>

<h1>Cosmic Math Solver ‚ú®</h1>
<div id="quote">Loading inspirational math quote...</div>

<div id="input-container">
  <input
    id="math-input"
    type="text"
    placeholder="Enter your math query, e.g. integrate sin(x) dx"
    autocomplete="off"
    spellcheck="false"
  />
  <div id="buttons-container">
    <button id="solve-btn" title="Solve math query">Solve</button>
    <button id="voice-btn" title="Speak your query üé§">üéôÔ∏è</button>
  </div>
</div>

<div id="result-container"></div>

<footer>Designed & Made by Vicky</footer>

<script>
  // --- Math quotes ---
  const quotes = [
    "Mathematics is the language with which God has written the universe. ‚Äì Galileo Galilei",
    "Pure mathematics is, in its way, the poetry of logical ideas. ‚Äì Albert Einstein",
    "The universe cannot be read until we have learned the language and become familiar with the characters. ‚Äì Galileo Galilei",
    "Mathematics knows no races or geographic boundaries; for mathematics, the cultural world is one country. ‚Äì David Hilbert",
    "Go down deep enough into anything and you will find mathematics. ‚Äì Dean Schlicter",
    "The essence of mathematics is not to make simple things complicated, but to make complicated things simple. ‚Äì S. Gudder"
  ];

  const quoteEl = document.getElementById('quote');
  const inputEl = document.getElementById('math-input');
  const solveBtn = document.getElementById('solve-btn');
  const voiceBtn = document.getElementById('voice-btn');
  const resultEl = document.getElementById('result-container');

  function rotateQuotes() {
    let idx = Math.floor(Math.random() * quotes.length);
    quoteEl.style.opacity = 0;
    setTimeout(() => {
      quoteEl.textContent = quotes[idx];
      quoteEl.style.opacity = 1;
    }, 800);
  }
  rotateQuotes();
  setInterval(rotateQuotes, 12000);

  // Wolfram Alpha API call
  async function solveMath(query) {
    if (!query.trim()) {
      resultEl.textContent = "Please enter a math problem to solve.";
      return;
    }
    resultEl.textContent = "Solving...";
    const appId = "YOUR_WOLFRAM_ALPHA_API_KEY"; // <-- Replace with your API key
    const url = `https://api.wolframalpha.com/v2/query?input=${encodeURIComponent(query)}&format=plaintext&output=JSON&appid=${appId}`;
    try {
      const response = await fetch(url);
      if (!response.ok) throw new Error(`Network response was not ok (${response.status})`);
      const data = await response.json();
      if (data.queryresult.success) {
        const pods = data.queryresult.pods;
        let answer = "";
        for (const pod of pods) {
          if (pod.title.toLowerCase() === "result" || pod.title.toLowerCase() === "solution") {
            answer = pod.subpods[0].plaintext;
            break;
          }
        }
        if (!answer && pods.length > 0) answer = pods[0].subpods[0].plaintext;
        if (answer) {
          resultEl.textContent = `Query: ${query}\n\nResult:\n${answer}`;
          speakText(answer);
        } else {
          resultEl.textContent = "No explicit result found. Try rephrasing your query.";
          speakText("No explicit result found. Please try rephrasing your query.");
        }
      } else {
        resultEl.textContent = "Could not solve this problem. Please try a different query.";
        speakText("Could not solve this problem. Please try a different query.");
      }
    } catch (error) {
      resultEl.textContent = `Error: ${error.message}`;
      speakText("An error occurred while solving the problem.");
    }
  }

  // Voice recognition
  let recognition;
  if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    recognition = new SpeechRecognition();
    recognition.lang = 'en-US';
    recognition.interimResults = false;
    recognition.maxAlternatives = 1;
    recognition.onstart = () => {
      voiceBtn.textContent = "üéôÔ∏è Listening...";
      voiceBtn.disabled = true;
    };
    recognition.onresult = (event) => {
      const transcript = event.results[0][0].transcript;
      inputEl.value = transcript;
      solveMath(transcript);
    };
    recognition.onerror = (event) => {
      resultEl.textContent = `Voice recognition error: ${event.error}`;
    };
    recognition.onend = () => {
      voiceBtn.textContent = "üéôÔ∏è";
      voiceBtn.disabled = false;
    };
  } else {
    voiceBtn.disabled = true;
    voiceBtn.title = "Voice recognition not supported in this browser";
  }
  voiceBtn.addEventListener('click', () => {
    if (recognition) recognition.start();
  });

  // Speech synthesis
  function speakText(text) {
    if (!('speechSynthesis' in window)) return;
    if (window.speechSynthesis.speaking) window.speechSynthesis.cancel();
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = 'en-US';
    utterance.rate = 1;
    window.speechSynthesis.speak(utterance);
  }

  solveBtn.addEventListener('click', () => {
    solveMath(inputEl.value);
  });
  inputEl.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') solveMath(inputEl.value);
  });

  // Cosmic starfield animation
  const canvas = document.getElementById('starfield');
  const ctx = canvas.getContext('2d');
  let stars = [];
  let width, height;
  let starColor = getComputedStyle(document.documentElement).getPropertyValue('--accent');
  function Star() {
    this.x = Math.random() * width;
    this.y = Math.random() * height;
    this.size = Math.random() * 1.5 + 0.5;
    this.speed = (this.size * 0.3) + 0.1;
  }
  Star.prototype.update = function() {
    this.y -= this.speed;
    if (this.y < 0) {
      this.x = Math.random() * width;
      this.y = height;
      this.size = Math.random() * 1.5 + 0.5;
      this.speed = (this.size * 0.3) + 0.1;
    }
  };
  Star.prototype.draw = function() {
    ctx.beginPath();
    ctx.fillStyle = starColor;
    ctx.shadowColor = starColor;
    ctx.shadowBlur = 5;
    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    ctx.fill();
  };
  function initStars() {
    stars = [];
    for (let i = 0; i < 150; i++) {
      stars.push(new Star());
    }
  }
  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    initStars();
  }
  function animate() {
    ctx.clearRect(0, 0, width, height);
    stars.forEach(star => {
      star.update();
      star.draw();
    });
    requestAnimationFrame(animate);
  }
  window.addEventListener('resize', resize);
  resize();
  animate();

  // Floating bouncing math equations
  const floatingContainer = document.getElementById('floating-equations');
  const equations = [
    "E=mc¬≤", "‚à´ sin(x) dx", "a¬≤ + b¬≤ = c¬≤", "f'(x)",
    "‚àë n=1^‚àû 1/n¬≤ = œÄ¬≤/6", "x = (-b ¬± ‚àö(b¬≤-4ac)) / 2a", "‚àÇ/‚àÇx",
    "lim‚Çì‚Üí‚àû (1 + 1/x)^x = e", "d/dx eÀ£ = eÀ£", "‚àö(2)", "œÄ ‚âà 3.14159",
    "log‚Çê(b)", "sin¬≤Œ∏ + cos¬≤Œ∏ = 1", "‚à´‚ÇÄ^‚àû e^{-x} dx = 1", "Œîy/Œîx", "‚àá¬∑E = œÅ/Œµ‚ÇÄ"
  ];
  const floatingEquations = [];
  function createEquation() {
    const eq = document.createElement('div');
    eq.classList.add('equation');
    eq.textContent = equations[Math.floor(Math.random() * equations.length)];
    const x = Math.random() * (window.innerWidth - 100);
    const y = Math.random() * (window.innerHeight - 30);
    eq.style.left = x + 'px';
    eq.style.top = y + 'px';
    const scale = 0.6 + Math.random() * 0.8;
    eq.style.fontSize = (14 * scale) + 'px';
    eq.style.opacity = 0.3 + Math.random() * 0.5;
    floatingContainer.appendChild(eq);
    const speedX = (Math.random() * 1.2 + 0.2) * (Math.random() < 0.5 ? 1 : -1);
    const speedY = (Math.random() * 1.2 + 0.2) * (Math.random() < 0.5 ? 1 : -1);
    return {
      el: eq,
      x: x,
      y: y,
      speedX: speedX,
      speedY: speedY,
      width: eq.offsetWidth,
      height: eq.offsetHeight,
      opacity: parseFloat(eq.style.opacity),
      scale: scale
    };
  }
  for(let i=0; i<30; i++) {
    floatingEquations.push(createEquation());
  }
  function animateEquations() {
    floatingEquations.forEach(eq => {
      eq.x += eq.speedX;
      eq.y += eq.speedY;
      if(eq.x <= 0) {
        eq.x = 0;
        eq.speedX = -eq.speedX;
      } else if(eq.x + eq.width >= window.innerWidth) {
        eq.x = window.innerWidth - eq.width;
        eq.speedX = -eq.speedX;
      }
      if(eq.y <= 0) {
        eq.y = 0;
        eq.speedY = -eq.speedY;
      } else if(eq.y + eq.height >= window.innerHeight) {
        eq.y = window.innerHeight - eq.height;
        eq.speedY = -eq.speedY;
      }
      eq.el.style.transform = `translate(${eq.x}px, ${eq.y}px) scale(${eq.scale})`;
      eq.el.style.opacity = eq.opacity;
    });
    requestAnimationFrame(animateEquations);
  }
  animateEquations();
  window.addEventListener('resize', () => {
    floatingEquations.forEach(eq => {
      eq.x = Math.min(eq.x, window.innerWidth - eq.width);
      eq.y = Math.min(eq.y, window.innerHeight - eq.height);
    });
  });

  // === Dynamic Theme Changer ===
  const palettes = [
    // Blue/Cyan
    {
      '--main-bg': 'radial-gradient(circle at center, #0a043c 0%, #000010 100%)',
      '--accent': '#00e5ff',
      '--accent2': '#00b8cc',
      '--glow': '0 0 7px #00e5ff',
      '--shadow': '#003366',
      '--equation': '#00e5ffcc',
      '--equation-shadow': '#00e5ff',
      '--footer': '#00e5ffaa'
    },
    // Purple/Neon
    {
      '--main-bg': 'linear-gradient(135deg, #3a3d5c, #2c3e50 90%)',
      '--accent': '#9b59b6',
      '--accent2': '#3498db',
      '--glow': '0 0 7px #9b59b6',
      '--shadow': '#9b59b6',
      '--equation': '#b67affcc',
      '--equation-shadow': '#9b59b6',
      '--footer': '#b67aff'
    },
    // Pink/Indigo
    {
      '--main-bg': 'linear-gradient(135deg, #e84393, #6c5ce7 90%)',
      '--accent': '#fd79a8',
      '--accent2': '#00b894',
      '--glow': '0 0 7px #fd79a8',
      '--shadow': '#e84393',
      '--equation': '#fd79a8cc',
      '--equation-shadow': '#e84393',
      '--footer': '#fd79a8'
    },
    // Green/Teal
    {
      '--main-bg': 'linear-gradient(135deg, #16a085, #1abc9c 90%)',
      '--accent': '#00ffae',
      '--accent2': '#16a085',
      '--glow': '0 0 7px #00ffae',
      '--shadow': '#16a085',
      '--equation': '#00ffaecc',
      '--equation-shadow': '#00ffae',
      '--footer': '#00ffae'
    },
    // Orange
    {
      '--main-bg': 'linear-gradient(135deg, #f39c12, #e67e22 90%)',
      '--accent': '#f6b93b',
      '--accent2': '#e67e22',
      '--glow': '0 0 7px #f6b93b',
      '--shadow': '#e67e22',
      '--equation': '#f6b93bcc',
      '--equation-shadow': '#f6b93b',
      '--footer': '#f6b93b'
    },
    // Gold
    {
      '--main-bg': 'linear-gradient(135deg, #f7ca18, #f9d423 90%)',
      '--accent': '#f9d423',
      '--accent2': '#f7ca18',
      '--glow': '0 0 7px #f9d423',
      '--shadow': '#f7ca18',
      '--equation': '#f9d423cc',
      '--equation-shadow': '#f9d423',
      '--footer': '#f9d423'
    },
    // Red
    {
      '--main-bg': 'linear-gradient(135deg, #c0392b, #e74c3c 90%)',
      '--accent': '#e74c3c',
      '--accent2': '#c0392b',
      '--glow': '0 0 7px #e74c3c',
      '--shadow': '#c0392b',
      '--equation': '#e74c3ccc',
      '--equation-shadow': '#e74c3c',
      '--footer': '#e74c3c'
    },
    // Teal/Blue
    {
      '--main-bg': 'linear-gradient(135deg, #2980b9, #6dd5fa 90%)',
      '--accent': '#6dd5fa',
      '--accent2': '#2980b9',
      '--glow': '0 0 7px #6dd5fa',
      '--shadow': '#2980b9',
      '--equation': '#6dd5facc',
      '--equation-shadow': '#6dd5fa',
      '--footer': '#6dd5fa'
    }
  ];
  let paletteIndex = 0;
  function applyPalette(p) {
    document.body.style.background = p['--main-bg'];
    document.querySelector('h1').style.color = p['--accent'];
    document.querySelector('h1').style.textShadow =
      `0 0 2px ${p['--accent']},0 0 5px ${p['--accent2']},0 0 10px ${p['--accent2']}`;
    document.querySelectorAll('#solve-btn, #voice-btn').forEach(btn => {
      btn.style.background = p['--accent'];
      btn.style.boxShadow = `0 0 5px ${p['--accent']},0 0 10px ${p['--accent2']}`;
    });
    document.getElementById('math-input').style.background = p['--shadow'];
    document.getElementById('math-input').style.boxShadow = `inset 0 0 6px ${p['--shadow']}`;
    document.getElementById('result-container').style.background = p['--shadow'];
    document.getElementById('result-container').style.boxShadow = p['--glow'];
    document.querySelectorAll('.equation').forEach(eq => {
      eq.style.color = p['--equation'];
      eq.style.textShadow = `0 0 2px ${p['--equation-shadow']},0 0 5px ${p['--equation-shadow']}`;
    });
    document.querySelector('footer').style.color = p['--footer'];
    document.querySelector('footer').style.textShadow = `0 0 3px ${p['--accent']}`;
    starColor = p['--accent'];
  }
  function nextPalette() {
    paletteIndex = (paletteIndex + 1) % palettes.length;
    applyPalette(palettes[paletteIndex]);
  }
  applyPalette(palettes[paletteIndex]);
  setInterval(nextPalette, 30000);
</script>

</body>
</html>
